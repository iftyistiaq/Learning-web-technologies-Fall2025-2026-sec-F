<head>
    
    <title>Basic Calculator</title>
</head>
<body>
    <div id="calculator"></div>

    <script>
        
        const calc = document.getElementById('calculator');
        calc.style.width = '280px';
        calc.style.margin = '48px auto';
        calc.style.padding = '18px';
        calc.style.border = '2px solid blue';
        
        calc.style.backgroundColor = '#010001';

     
        const display = document.createElement('input');
        display.type = 'text';
        display.id = 'display';
        display.value = '0';
        display.readOnly = true;
        display.style.width = '100%';
        display.style.height = '50px';
        display.style.fontSize = '24px';
        display.style.textAlign = 'right';
        display.style.marginBottom = '10px';
        display.style.border = '1px solid blue';
        display.style.borderRadius = '5px';
        display.style.padding = '5px';
        display.style.boxSizing = 'border-box';
        calc.appendChild(display);

       
        const buttons = [
            ['7', '8', '9', '/'],
            ['4', '5', '6', '*'],
            ['1', '2', '3', '-'],
            ['0', '.', 'C', '+'],
            ['AC','=']
            ];

        buttons.forEach(row => {
            const rowDiv = document.createElement('div');
            rowDiv.style.display = 'flex';
            rowDiv.style.marginBottom = '5px';
            
            row.forEach(btnText => {
                const btn = document.createElement('button');
                btn.textContent = btnText;
                btn.style.flex = '1';
                btn.style.height = '50px';
                btn.style.fontSize = '20px';
                btn.style.margin = '2px';
                btn.style.border = '1px solid black';
                btn.style.borderRadius = '5px';
                btn.style.cursor = 'pointer';
                btn.style.backgroundColor = '#a6a7a6';
                
                
                
                btn.onclick = function() {
                    handleClick(btnText);
                };
                
                rowDiv.appendChild(btn);
            });
            
            calc.appendChild(rowDiv);
        });

     
        let currentInput = '0';
        let operator = '';
        let previousValue = '';
        let shouldResetDisplay = false;

        

        function handleClick(value) {
            if (value === 'AC') {
                currentInput = '0';
                operator = '';
                previousValue = '';
                shouldResetDisplay = false;
                display.value = '0'; 
                return;
}
            
            if (value === 'C') {
                if (currentInput.length > 1) {
                    currentInput = currentInput.slice(0, -1);
                } else {
                    currentInput = '0';
                }
                display.value = currentInput;
                return;
            }

            if (value === '=') {
                if (operator && previousValue !== '') {
                    const prev = parseFloat(previousValue);
                    const curr = parseFloat(currentInput);
                    let result = 0;

                    if (operator === '+') result = prev + curr;
                    else if (operator === '-') result = prev - curr;
                    else if (operator === '*') result = prev * curr;
                    else if (operator === '/') result = prev / curr;

                    currentInput = result.toString();
                    display.value = currentInput;
                    operator = '';
                    previousValue = '';
                    shouldResetDisplay = true;
                }
                return;
            }

          
            if (value === '+' || value === '-' || value === '*' || value === '/') {
                if (operator && previousValue !== '' && !shouldResetDisplay) {
                    const prev = parseFloat(previousValue);
                    const curr = parseFloat(currentInput);
                    let result = 0;

                    if (operator === '+') result = prev + curr;
                    else if (operator === '-') result = prev - curr;
                    else if (operator === '*') result = prev * curr;
                    else if (operator === '/') result = prev / curr;

                    currentInput = result.toString();
                    display.value = currentInput;
                }
                
                operator = value;
                previousValue = currentInput;
                shouldResetDisplay = true;
                return;
            }

         
            if (value === '.') {
               
                let hasDot = false;
                for (let i = 0; i < currentInput.length; i++) {
                    if (currentInput[i] === '.') {
                        hasDot = true;
                        break;
                    }
                }
                
                if (!hasDot) {
                    if (shouldResetDisplay) {
                        currentInput = '0.';
                        shouldResetDisplay = false;
                    } else {
                        currentInput += '.';
                    }
                    display.value = currentInput;
                }
                return;
            }

            
            if (shouldResetDisplay) {
                currentInput = value;
                shouldResetDisplay = false;
            } else {
                if (currentInput === '0') {
                    currentInput = value;
                } else {
                    currentInput += value;
                }
            }
            
            display.value = currentInput;
        }
    </script>
</body>
</html>